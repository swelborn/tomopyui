# Automatic conversion of metadata into schema

Download datamodel-code-generator

```bash
pip install datamodel-code-generator
```

Put your json file into this folder
```
cp your-metadata.json tomopyui/backend/schemas/
```

Go to this folder
```
cd tomopyui/backend/schemas
```

Run code generator
```
datamodel-codegen --input your-metadata.json --input-file-type json --output your-metadata.py
```

Inspect the code that has been generated (open in text editor)

```python
# generated by datamodel-codegen:
#   filename:  metadata.json
#   timestamp: 2024-02-14T21:51:12+00:00

from __future__ import annotations

from typing import List, Optional, Union

from pydantic import BaseModel

class Model(BaseModel):
    measurement_instrument_attenuator_name: List[Optional[str]]
    measurement_instrument_attenuator_setup_user_filter_ds: List[str]
    measurement_instrument_attenuator_setup_user_filter_ds_legend: List[Optional[str]]
    measurement_instrument_attenuator_setup_user_filter_us: List[str]
    measurement_instrument_attenuator_setup_user_filter_us_legend: List[Optional[str]]
    measurement_instrument_attenuator_1_description: List[Optional[str]]
    measurement_instrument_attenuator_1_name: List[Optional[str]]
    measurement_instrument_detection_system_objective_magnification: List[Optional[str]]
    measurement_instrument_detection_system_scintillator_name: List[Optional[str]]
    measurement_instrument_detection_system_scintillator_scintillating_thickness: List[
        str
    ]
...

```

You can 

